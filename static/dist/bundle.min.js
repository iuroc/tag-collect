(function(){(function(){function c(i,a,u){function s(r,t){if(!a[r]){if(!i[r]){var e="function"==typeof require&&require;if(!t&&e)return e(r,!0);if(l)return l(r,!0);var o=new Error("Cannot find module '"+r+"'");throw o.code="MODULE_NOT_FOUND",o}var n=a[r]={exports:{}};i[r][0].call(n.exports,function(t){var e=i[r][1][t];return s(e||t)},n,n.exports,c,i,a,u)}return a[r].exports}for(var l="function"==typeof require&&require,t=0;t<u.length;t++)s(u[t]);return s}return c})()({1:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.Router=void 0;var o=function(){function t(t){this.routeList={};this.hashChanged=false;if(t===null||t===void 0?void 0:t.default)this.setDefaultRoute(t.default);if(t===null||t===void 0?void 0:t.routeSet)this.setRouteOption(t.routeSet)}t.prototype.setRouteOption=function(t){var e=this;if(!Array.isArray(t))throw new Error("routeSet 类型错误");t.forEach(function(t){if(typeof t=="string")e.set(t);else if(Array.isArray(t)){if(t.length==2&&typeof t[1]!="string")e.set.apply(e,t);else e.set(t)}else{throw new Error("routeSet 类型错误")}})};t.prototype.setDefaultRoute=function(t){if(typeof t=="string")this.defaultRoute=this.set(t)[0];else if(Array.isArray(t))this.defaultRoute=this.set.apply(this,t)[0];else throw new Error("default 选项类型错误")};t.prototype.set=function(t,e){var r;var o=Array.isArray(t)?t:[t];var n=[];for(var i=0;i<o.length;i++){var a=o[i];var u=e?Array.isArray(e)?e:[e]:[];var s=this.routeList[a];if(s){(r=s.event).push.apply(r,u);n.push(s);continue}var l=this.getRouteDom(a);if(!l)throw new Error('data-route="'.concat(a,'" 的 HTML 元素没有找到'));var c=this.routeList[a]={name:a,event:u,dom:l,data:{},args:[],status:0};n.push(c)}return n};t.prototype.getRouteDom=function(t,e){if(e===void 0){e=false}var r;if(e&&t)r='[data-route]:not([data-route="'.concat(t,'"]');else r=t?'[data-route="'.concat(t,'"]'):"[data-route]";var o=document.querySelectorAll(r);if(t&&!e&&o.length==0)throw new Error("".concat(r," 元素不存在"));return t&&!e?o[0]:o};t.prototype.loadRoute=function(e,t){var r=this;if(t===void 0){t=[]}this.getRouteDom(e.name,true).forEach(function(t){t.style.display="none"});this.getRouteDom(e.name).style.display="block";e.args=t;e.event.forEach(function(t){return t(e,r)})};t.prototype.start=function(){var a=this;var u=this;var t=function(t){if(t)a.hashChanged=true;var e=(t===null||t===void 0?void 0:t.newURL)||location.href;var r=new URL(e).hash;var o=r.split("/").slice(2);if(r=="")return u.loadRoute(u.defaultRoute,o);var n=r.split("/")[1];var i=u.routeList[n];if(!i)return location.hash="";u.loadRoute(i,o)};if(!this.defaultRoute)this.setDefaultRoute("home");window.addEventListener("hashchange",t);t()};t.prototype.getNowRouteName=function(){return location.hash==""?this.defaultRoute.name:location.hash.split("/")[1]};t.util={show:function(t){if(!t)return;var e=t instanceof Node?[t]:t;e.forEach(function(t){return t.style.display="block"})},hide:function(t){if(!t)return;var e=t instanceof Node?[t]:t;e.forEach(function(t){return t.style.display="none"})}};return t}();r.Router=o;r.default=o},{}],2:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.router=void 0;var o=t("apee-router");var n=t("./route/home");var i=t("./route/login");r.router=new o.Router;r.router.set(["home","add","list","tag","user","login"]);r.router.set("home",n.home);r.router.set("login",i.login);r.router.start();(0,i.checkLogin)()},{"./route/home":3,"./route/login":4,"apee-router":1}],3:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.home=void 0;var o=function(o){function t(){var e="";var t=o.dom.querySelector(".btn-list");if(!t)throw new Error(".btn-list 元素不存在");var r=[["plus-square-dotted.svg","新增收藏","add"],["card-checklist.svg","收藏列表","list"],["tags.svg","标签列表","tag"],["person-gear.svg","个人中心","user"]];r.forEach(function(t){e+='\n                <div class="col-sm-6 col-lg-4 col-xl-3 mb-4">\n                    <div class="border border-3 shadow-sm rounded-4 card card-body\n                        hover-shadow flex-row align-items-center" onclick="location.hash=\'#/'.concat(t[2],'\'">\n                        <img src="/static/img/').concat(t[0],'" class="mx-3 size-32">\n                        <div class="fs-4">').concat(t[1],"</div>\n                    </div>\n                </div>")});t.innerHTML=e}if(o.status==0){o.status=1;t()}};r.home=o},{}],4:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.login=r.checkLogin=void 0;var a=t("..");function u(t){function e(){var t=a.router.getNowRouteName();if(t!="login")location.hash="/login";return false}function r(){var t=a.router.getNowRouteName();if(t=="login")location.hash="";return true}if(typeof t=="undefined")addEventListener("hashchange",u);var o=localStorage.getItem("token");var n=localStorage.getItem("expires");var i=(new Date).getTime();if(!o||!n||parseInt(n)<i)return e();return r()}r.checkLogin=u;var o=document.querySelector(".login-box");var n=document.querySelector(".register-box");var i=function(t){if(t.args[0]=="register"){o.style.display="none";n.style.display="block"}else{o.style.display="block";n.style.display="none"}};r.login=i},{"..":2}]},{},[2])})();